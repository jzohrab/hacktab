<!doctype html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script src='./index.js'></script>

    <title>Hacktab</title>
    <style>
      h1   {
          color: blue;
      }
      div  {
          padding: 5px;
      }
      #rawnote {
          font-style: italic;
      }
      #rawtab {
          border-left: 1px solid black;
      }

      #copied {
          font-size: 10pt;
          font-style: italic;
          color: green;
          display: none;
      }

      #rawtabcontainer {
          width: 600px;
          overflow-x: scroll;
          white-space: nowrap;
          border-top: 1px solid black;
          border-bottom: 1px solid black;
      }

      #keyboardcontrols {
          font-style: italic;
          font-size: 10pt;
      }

      table {
          border-collapse: collapse;
          border: 1px solid lightgrey;
      }

      table td {
          border: 1px solid lightgrey;
          font-family: courier;
          font-size: 12pt;
          text-align: right;
          padding: 5px;
      }

      .current {
          border: 2px solid red;
      }

      .currentpassive {
          border: 2px solid lightblue;
      }

      .highlight {
          background-color: green;
          color: white;
      }

      .chordtone {
          background-color: blue;
          color: white;
      }

      #finaltab {
          font-family: courier;
      }

      #devControls {
          border-style: inset;
          display: none;
      }

      .footer {
          position: fixed;
          left: 0;
          width: 100%;
          font-style: italic;
          padding: 10px;
          border-left: 6px solid green;
          background-color: lightgrey;
      }
    </style>
  </head>
  <body onload="onloadBody()">
    <h1>Hacktab</h1>

    <div>
      <ul>
        <li>Get your guitar.</li>
        <li>Click Start, and let this site access your mic.</li>
        <li>Play one note at a time, slowly (1 note per 1/2 second), and this area will update with tab.</li>
        <li>All processing takes place in your browser, no data is collected.</li>
      </ul>
    </div>

    <div id="controls-start-stop">
      <button type="button" onclick="startRecord(); return true;">Start</button>
      <button type="button" onclick="stopRecord(); return true;">Stop</button>
      <button type="button" onclick="renderTab(); return true;">Tab</button>
      <button type="button" onclick="copyTab(); return true;">Copy</button>&nbsp;<span id="copied">Copied!</span>
    </div>

    <div id="rawtabcontainer">
      <table style="background-color: lightyellow;">
        <tbody id="rawtab">
          <tr><td>&nbsp;</td></tr>
          <tr><td>&nbsp;</td></tr>
          <tr><td>&nbsp;</td></tr>
          <tr><td>&nbsp;</td></tr>
          <tr><td>&nbsp;</td></tr>
          <tr><td>&nbsp;</td></tr>
        </tbody>
      </table>
    </div>

    <div id="keyboardcontrols">
      <p>Arrow keys: navigate &mdash; t: toggle cursor &mdash; c: chord tone &mdash; space: toggle current cell</p>
    </div>

    <div id="finaltab">
      <span id="tabdest" />
    </div>

    <!-- hidden in prod -->
    <div id="devControls">
      <p>dev controls</p>
      <p id="rawnote">&nbsp;</p>
      <button type="button" onclick="printRecord(); return true;">Raw data</button>
      <button type="button" onclick="addRandom(); return true;">Add random note</button>
      <span id="recorded"/>
    </div>

    <div class="footer">
      <p><a href="https://github.com/jzohrab/hacktab">GitHub repo</a> - code contributions are very welcome!</p>
    </div>

  </body>
</html>
